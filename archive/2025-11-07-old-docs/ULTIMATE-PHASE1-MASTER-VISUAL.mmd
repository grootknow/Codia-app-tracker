%%{init: {
  'theme': 'base',
  'themeVariables': {
    'primaryColor': '#E3F2FD',
    'primaryTextColor': '#0D47A1',
    'primaryBorderColor': '#1976D2',
    'lineColor': '#424242',
    'secondaryColor': '#FFF3E0',
    'tertiaryColor': '#E8F5E9',
    'fontSize': '10px',
    'fontFamily': 'arial'
  }
}}%%

graph TB
    %% ============================================================================
    %% ULTIMATE PHASE 1 MASTER VISUAL - Táº¤T Cáº¢ TRONG 1 DIAGRAM
    %% Founders, Devices, VPS, Services, Folders, Permissions, Media, Backup
    %% ============================================================================
    
    subgraph FOUNDERS["ğŸ‘¥ FOUNDERS + PERMISSIONS"]
        direction TB
        
        HUNG["ğŸ‘¤ HÃ™NG - Tech/Media/Fundraising<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ“§ Personal: grootknow@gmail.com<br/>ğŸ“§ Work: hung@rootknow.com<br/>ğŸ“§ Admin: admin@rootknow.com<br/>ğŸ“± Phone: [Personal] + [Work eSIM]<br/><br/>ğŸ” ACCESS: SUPER ADMIN (Full)<br/>  âœ… All VPS (root)<br/>  âœ… All databases (admin)<br/>  âœ… All services (owner)<br/>  âœ… All credentials (master)<br/>  âœ… All media accounts<br/><br/>ğŸ’» Devices:<br/>  â€¢ LG Gram 2022 (32GB, 256GB)<br/>  â€¢ Workstation i9-12900K (64GB, 35TB)<br/>  â€¢ Xiaomi 14T Pro<br/><br/>ğŸ“· Equipment ($20K):<br/>  â€¢ Sony A7S III + Canon R6<br/>  â€¢ Aputure lights<br/>  â€¢ Rode/Sennheiser audio<br/>  â€¢ NAS 24TB"]
        
        TUAN["ğŸ‘¤ TUáº¤N - Operations/Finance<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ“§ Personal: drootknow@gmail.com<br/>ğŸ“§ Work: tuan@rootknow.com<br/>ğŸ“± Phone: 0977078336<br/>ğŸ  HÃ  ÄÃ´ng, HÃ  Ná»™i<br/><br/>ğŸ” ACCESS: ADMIN (Limited)<br/>  âœ… Grafana (view dashboards)<br/>  âœ… Notion (full access)<br/>  âœ… Finance reports (read)<br/>  âœ… LinkedIn Company (admin)<br/>  âŒ VPS SSH (no access)<br/>  âŒ Database write (no access)<br/>  âŒ Code deployment (no access)<br/><br/>ğŸ’» Devices:<br/>  â€¢ WorkPC 2025<br/>  â€¢ Xiaomi 15T Pro"]
    end
    
    subgraph VPS1_FULL["â˜ï¸ VPS1: 24GB RAM, $15/mo - INFRASTRUCTURE CORE"]
        direction TB
        
        VPS1_INFO["ğŸ–¥ï¸ VPS1 - Contabo Singapore<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>IP: [Contabo provides]<br/>RAM: 24GB | CPU: 6 cores<br/>Storage: 400GB NVMe<br/>OS: Debian 12<br/>SSH: Key-based (HÃ¹ng only)<br/>Firewall: UFW (22,80,443)"]
        
        VPS1_FOLDERS["ğŸ“ FOLDER STRUCTURE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>/opt/trm/<br/>  /data/<br/>    /vaultwarden/<br/>    /gitea/<br/>    /grafana/<br/>    /prometheus/<br/>    /loki/<br/>    /sentry/<br/>  /backups/<br/>    /daily/<br/>    /weekly/<br/>  /scripts/<br/>    backup.sh<br/>    restore.sh<br/>    health-check.sh<br/>  /configs/<br/>    docker-compose/"]
        
        VPS1_SERVICES["ğŸ”§ SERVICES (11)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>1. Coolify :3000 (PaaS)<br/>2. Logto :3001 (SSO Auth)<br/>3. Vaultwarden :8443 (Secrets)<br/>4. Gitea :3002 (Git)<br/>5. Prometheus :9090 (Metrics)<br/>6. Grafana :3003 (Dashboards)<br/>7. Loki :3100 (Logs)<br/>8. Sentry :9000 (Errors)<br/>9. Alerta :8080 (Alerts)<br/>10. Zot :5000 (Registry)<br/>11. Headscale :8090 (VPN)<br/><br/>DNS: *.xknow.site â†’ VPS1 IP<br/>Backup: Every 4h â†’ R2"]
    end
    
    subgraph VPS2_FULL["â˜ï¸ VPS2: 24GB RAM, $15/mo - ALL DATABASES"]
        direction TB
        
        VPS2_INFO["ğŸ–¥ï¸ VPS2 - Contabo Singapore<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>IP: [Contabo provides]<br/>RAM: 24GB | CPU: 6 cores<br/>Storage: 400GB NVMe<br/>OS: Debian 12<br/>SSH: Key-based (HÃ¹ng only)"]
        
        VPS2_FOLDERS["ğŸ“ FOLDER STRUCTURE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>/opt/trm/<br/>  /databases/<br/>    /postgres-product/<br/>    /postgres-agent/<br/>    /neo4j-product/<br/>    /neo4j-agent/<br/>    /lancedb-product/<br/>    /lancedb-agent/<br/>    /redis-product/<br/>    /redis-agent/<br/>  /backups/<br/>    /pg-dumps/<br/>    /neo4j-dumps/<br/>    /lancedb-snapshots/<br/>    /redis-rdb/<br/>  /scripts/<br/>    db-backup-all.sh<br/>    db-restore.sh"]
        
        VPS2_DB_USERS["ğŸ‘¥ DATABASE USERS<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>PostgreSQL:<br/>  â€¢ postgres (superuser)<br/>  â€¢ product_app (rw)<br/>  â€¢ agent_readonly (r)<br/>  â€¢ agent_writer (rw)<br/>  â€¢ founder_admin (all)<br/><br/>Neo4j:<br/>  â€¢ neo4j (admin)<br/>  â€¢ product_app (rw)<br/>  â€¢ agent_readonly (r)<br/><br/>Redis:<br/>  â€¢ default (admin)<br/>  â€¢ app (rw)<br/>  â€¢ agent (r)<br/><br/>LanceDB:<br/>  â€¢ file-based (owner: docker)"]
        
        VPS2_SERVICES["ğŸ’¾ DATABASES (8)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>1. PostgreSQL Product :5432 (4GB)<br/>2. PostgreSQL Agent :5433 (2GB)<br/>3. Neo4j Product :7474/:7687 (6GB)<br/>4. Neo4j Agent :7475/:7688 (2GB)<br/>5. LanceDB Product :8001 (4GB)<br/>6. LanceDB Agent :8002 (2GB)<br/>7. Redis Product :6379 (2GB)<br/>8. Redis Agent :6380 (1GB)<br/><br/>Total: 23GB / 24GB RAM<br/>Backup: Every 4h â†’ R2"]
    end
    
    subgraph VPS3_FULL["â˜ï¸ VPS3: 12GB RAM, $8/mo - AI STACK + MEDIA"]
        direction TB
        
        VPS3_INFO["ğŸ–¥ï¸ VPS3 - Contabo Singapore<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>IP: [Contabo provides]<br/>RAM: 12GB | CPU: 4 cores<br/>Storage: 200GB NVMe<br/>OS: Debian 12<br/>SSH: Key-based (HÃ¹ng only)"]
        
        VPS3_FOLDERS["ğŸ“ FOLDER STRUCTURE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>/opt/trm/<br/>  /ai/<br/>    /langgraph-product/<br/>    /langgraph-agent/<br/>    /agents/<br/>      /devops-commander/<br/>      /data-orchestrator/<br/>      /alert-commander/<br/>      /finance-tracker/<br/>      /doc-writer/<br/>      /compliance-guardian/<br/>      /test-runner/<br/>      /system-learner/<br/>    /zep/<br/>    /lobechat/<br/>  /media/<br/>    /postiz/<br/>  /configs/<br/>    agent-configs/"]
        
        VPS3_SERVICES["ğŸ¤– AI SERVICES (12)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Product AI:<br/>1. LangGraph Product :8010 (2GB)<br/><br/>Agent Orchestration:<br/>2. LangGraph Agent Orch :8020 (2GB)<br/><br/>8 AI Agents (each 512MB-1GB):<br/>3. DevOps Commander :8030<br/>4. Data Orchestrator :8031<br/>5. Alert Commander :8032<br/>6. Finance Tracker :8033<br/>7. Doc Writer :8034<br/>8. Compliance Guardian :8035<br/>9. Test Runner :8036<br/>10. System Learner :8037 (1GB)<br/><br/>Support:<br/>11. Zep Memory :8050 (2GB)<br/>12. LobeChat UI :8060 (1GB)<br/><br/>Media:<br/>13. Postiz :8070 (512MB)<br/><br/>Total: 11.5GB / 12GB RAM"]
    end
    
    subgraph VPS4_FULL["â˜ï¸ VPS4: 12GB RAM, $7/mo - CODE EXECUTION SANDBOX"]
        direction TB
        
        VPS4_INFO["ğŸ–¥ï¸ VPS4 - Contabo Singapore<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>IP: [Contabo provides]<br/>RAM: 12GB | CPU: 4 cores<br/>Storage: 200GB NVMe<br/>OS: Debian 12<br/>SSH: Key-based (HÃ¹ng only)<br/>âš ï¸ ISOLATED - No VPS1/2/3 access"]
        
        VPS4_FOLDERS["ğŸ“ FOLDER STRUCTURE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>/opt/trm/<br/>  /k3s/<br/>    /manifests/<br/>    /configs/<br/>  /runners/<br/>    /python/<br/>    /nodejs/<br/>    /multi-lang/<br/>  /workspaces/<br/>    /temp/ (auto-clean)<br/>  /logs/<br/>    /execution-logs/"]
        
        VPS4_SERVICES["ğŸ”’ EXECUTION PODS (4)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>1. K3s Control :6443 (2GB)<br/>2. Python Runner (3GB)<br/>   â€¢ Isolated network<br/>   â€¢ 5min timeout<br/>   â€¢ CPU/RAM limits<br/>3. Node.js Runner (3GB)<br/>   â€¢ Same security<br/>4. Multi-lang Runner (3GB)<br/>   â€¢ Python + Node + Go<br/><br/>Security:<br/>  âš ï¸ No outbound except APIs<br/>  âš ï¸ No VPS1/2/3 access<br/>  âš ï¸ Auto-terminate processes<br/>  âš ï¸ Logs to VPS1 Loki only"]
    end
    
    subgraph VAULTWARDEN_DETAIL["ğŸ” VAULTWARDEN - CREDENTIAL VAULT (VPS1)"]
        direction TB
        
        VAULT_MASTER["ğŸ”‘ MASTER ACCOUNT<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Email: admin@rootknow.com<br/>Master Password: [PAPER IN SAFE]<br/>2FA: Authy (work phone)<br/>Recovery: 10 codes â†’ paper â†’ safe<br/><br/>Access:<br/>  â€¢ HÃ¹ng: Full (owner)<br/>  â€¢ Tuáº¥n: No access<br/>  â€¢ Agents: API read-only (specific items)"]
        
        VAULT_STRUCTURE["ğŸ“‚ VAULT ORGANIZATION<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>/phase1/<br/>  /foundation/<br/>    gws-admin, gws-hung, gws-tuan<br/>    cloudflare, r2-keys<br/>    contabo<br/>  /development/<br/>    github-pat, notion-token<br/>  /ai-services/<br/>    claude-api, grok-api, gemini-api<br/>  /media/<br/>    adobe, canva, figma<br/>    artlist, envato, tubebuddy<br/>  /social/<br/>    youtube, tiktok, instagram<br/>    linkedin-company, linkedin-hung, linkedin-tuan<br/>    twitter, medium, devto<br/><br/>/vps1/<br/>  ssh-key, coolify, logto, gitea<br/>  prometheus, grafana, sentry<br/><br/>/vps2/<br/>  ssh-key<br/>  pg-product, pg-agent<br/>  neo4j-product, neo4j-agent<br/>  redis, lancedb<br/><br/>/vps3/<br/>  ssh-key, langgraph<br/><br/>/vps4/<br/>  ssh-key, k3s<br/><br/>/agents/<br/>  /devops-commander/<br/>  /data-orchestrator/<br/>  /alert-commander/<br/>  /finance-tracker/<br/>  /doc-writer/<br/>  /compliance-guardian/<br/>  /test-runner/<br/>  /system-learner/"]
    end
    
    subgraph MEDIA_CHANNELS["ğŸ“º MEDIA & SOCIAL (18 CHANNELS)"]
        direction TB
        
        PHASE1_CHANNELS["âœ… PHASE 1 (11 channels)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Video:<br/>  1. YouTube @rootknow_ai<br/>  2. TikTok @rootknow_ai<br/><br/>Image:<br/>  3. Instagram @rootknow.ai<br/><br/>Professional:<br/>  4. LinkedIn Company<br/>  5. LinkedIn HÃ¹ng<br/>  6. LinkedIn Tuáº¥n<br/>  7. X/Twitter @rootknow_ai<br/><br/>Content:<br/>  8. Medium @rootknow<br/>  9. DEV.to @rootknow<br/>  10. Hashnode @rootknow<br/>  11. Hacker News (rootknow_ai)<br/><br/>Owner: hung@rootknow.com<br/>Schedule: Postiz (VPS3)<br/>Analytics: Grafana (VPS1)"]
        
        PHASE2_CHANNELS["âŒ PHASE 2 (7 channels)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Brand:<br/>  1. Website rootknow.com<br/>  2. Docs docs.rootknow.com<br/>  3. Blog blog.rootknow.com<br/><br/>Community:<br/>  4. Discord Community<br/><br/>Optional:<br/>  5. YouTube VN @rootknow_vn<br/>  6. Pinterest @rootknow_ai<br/>  7. Reddit u/rootknow_ai<br/><br/>Launch: With product ready"]
        
        CONTENT_FLOW["ğŸ“¤ CONTENT REPURPOSING<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>1 YouTube Video (20 min)<br/>  â†“<br/>  â†’ 5 Shorts (YT/TikTok/IG)<br/>  â†’ Blog post (transcript)<br/>  â†’ 3 cross-posts (Medium/DEV/Hash)<br/>  â†’ LinkedIn insight<br/>  â†’ Twitter thread<br/><br/>= 1 video = 12+ pieces<br/><br/>Weekly:<br/>  â€¢ 2 long videos<br/>  â€¢ 5 shorts<br/>  â€¢ 7 TikToks<br/>  â€¢ 3 LinkedIn<br/>  â€¢ 5 Tweets<br/>  â€¢ 1 blog (bi-weekly)<br/><br/>Total: 20-25 pieces/week"]
    end
    
    subgraph STORAGE_TIERS["ğŸ’¾ STORAGE STRATEGY (4 TIERS)"]
        direction TB
        
        TIER1_HOT["ğŸ”¥ TIER 1: HOT STORAGE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Hardware: Synology DS923+ NAS<br/>Capacity: 24TB (RAID 5)<br/>Location: Office/home<br/>Network: 10 Gbps<br/>Purpose: Active projects<br/>Retention: 30 days<br/>Content:<br/>  â€¢ Raw footage<br/>  â€¢ Project files<br/>  â€¢ Work-in-progress<br/>Cost: $1,400 one-time<br/>Backup: Every 4h â†’ Tier 2"]
        
        TIER2_WARM["ğŸ’¨ TIER 2: WARM STORAGE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Service: Cloudflare R2<br/>Capacity: 100GB â†’ 5TB<br/>Purpose: Recent content (90d)<br/>Content:<br/>  â€¢ Published videos<br/>  â€¢ DB backups<br/>  â€¢ Vaultwarden vault<br/>  â€¢ Docker volumes<br/>Cost: $15-75/mo<br/>Backup: Daily â†’ Tier 3"]
        
        TIER3_COLD["â„ï¸ TIER 3: COLD ARCHIVE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Service: Google Drive<br/>Capacity: 30GB (GWS Starter)<br/>  OR: 4TB (upgrade $24/mo)<br/>Purpose: Forever archive<br/>Content:<br/>  â€¢ All published content<br/>  â€¢ Important documents<br/>  â€¢ Project archives<br/>Cost: $0 or $24/mo<br/>Backup: Monthly â†’ Tier 4"]
        
        TIER4_OFFLINE["ğŸ”’ TIER 4: OFFLINE BACKUP<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Hardware: 2x 4TB + 1x 2TB HDD<br/>Capacity: 10TB<br/>Location: Physical safe<br/>Purpose: Disaster recovery<br/>Content:<br/>  â€¢ Archive snapshots<br/>  â€¢ Critical docs<br/>  â€¢ Vaultwarden exports<br/>Cost: $500 one-time<br/>Process: Manual monthly"]
    end
    
    subgraph BACKUP_AUTOMATION["ğŸ”„ BACKUP & RESTORE AUTOMATION"]
        direction LR
        
        BACKUP_SCHEDULE["â° BACKUP SCHEDULE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Every 4 hours:<br/>  â€¢ VPS2 all databases<br/>  â€¢ Vaultwarden vault<br/>  â€¢ Docker volumes<br/>  â†’ Upload to R2<br/><br/>Every 24 hours:<br/>  â€¢ Full system snapshot<br/>  â€¢ Configs â†’ GitHub<br/>  â€¢ Logs (24h retention)<br/>  â†’ Archive to R2<br/><br/>Every week:<br/>  â€¢ NAS â†’ External HDD<br/>  â€¢ Manual verification<br/>  â†’ Store in safe<br/><br/>Agent: Data Orchestrator<br/>Monitoring: Alerta alerts"]
        
        RESTORE_PROCESS["â™»ï¸ RESTORE PROCEDURE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>If VPS dies:<br/>1. Order new VPS (15 min)<br/>2. Install Docker (5 min)<br/>3. Run restore script:<br/>   /opt/trm/restore.sh<br/>   â€¢ Pull from R2<br/>   â€¢ Extract backups<br/>   â€¢ Start containers<br/>   â€¢ Health check<br/>4. Update DNS (5 min)<br/>5. Verify services (10 min)<br/><br/>Total: 30-60 mins<br/>Data loss: Max 4 hours<br/><br/>Test: Monthly drill"]
    end
    
    subgraph COSTS_REVENUE["ğŸ’° FINANCIAL OVERVIEW"]
        direction TB
        
        MONTHLY_COSTS["ğŸ’¸ MONTHLY COSTS<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Infrastructure:<br/>  â€¢ VPS 4x: $45<br/>  â€¢ R2 Storage: $20<br/>  â€¢ Cloudflare: $0<br/>  Subtotal: $65<br/><br/>Software:<br/>  â€¢ GWS: $12<br/>  â€¢ Adobe CC: $55<br/>  â€¢ Canva: $10<br/>  â€¢ Figma: $15<br/>  â€¢ AI tools: $40<br/>  â€¢ Stock: $50<br/>  â€¢ Social: $15<br/>  â€¢ AI APIs: $30-50<br/>  Subtotal: $227-247<br/><br/>Media Production:<br/>  â€¢ Per video: $50-200<br/>  â€¢ Monthly (8 vids): $400-1,600<br/><br/>Equipment Depreciation:<br/>  â€¢ $20K / 60mo: $333<br/><br/>TOTAL: $1,025-2,245/mo"]
        
        REVENUE_PROJ["ğŸ’µ REVENUE PROJECTIONS<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Year 1 (Building):<br/>  â€¢ Revenue: $0<br/>  â€¢ Investment phase<br/><br/>Year 2 (Monetization):<br/>  â€¢ YouTube Ads: $500-1K/mo<br/>  â€¢ Sponsorships: $2-5K/mo<br/>  â€¢ Affiliate: $200-500/mo<br/>  â€¢ Total: $2,700-6,500/mo<br/>  = $32K-78K/year<br/><br/>Year 3 (Scale):<br/>  â€¢ YouTube Ads: $3-8K/mo<br/>  â€¢ Sponsorships: $10-20K/mo<br/>  â€¢ Affiliate: $1-2K/mo<br/>  â€¢ Product: $5-10K/mo<br/>  â€¢ Total: $19-40K/mo<br/>  = $228K-480K/year"]
    end
    
    subgraph LAKEHOUSE["ğŸ  DATA LAKEHOUSE (Cloudflare R2)"]
        direction TB
        
        LAKEHOUSE_LAYERS["ğŸ“Š 3-LAYER ARCHITECTURE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ¥‰ BRONZE (Raw):<br/>  â€¢ Path: /bronze/YYYY/MM/DD/<br/>  â€¢ Format: JSON (CDC events)<br/>  â€¢ Sources: PostgreSQL, Neo4j, LanceDB<br/>  â€¢ Retention: 7 days<br/>  â€¢ Size: ~500MB/day<br/><br/>ğŸ¥ˆ SILVER (Cleaned):<br/>  â€¢ Path: /silver/tables/YYYY/MM/DD/<br/>  â€¢ Format: Parquet + Snappy<br/>  â€¢ Validation: Schema enforced<br/>  â€¢ Retention: 30 days<br/>  â€¢ Size: ~200MB/day (compressed)<br/><br/>ğŸ¥‡ GOLD (Aggregated):<br/>  â€¢ Path: /gold/daily|weekly|monthly/<br/>  â€¢ Format: Parquet + Snappy<br/>  â€¢ Content: Business metrics<br/>  â€¢ Retention: 90 days<br/>  â€¢ Size: ~50MB/day<br/><br/>ğŸ“‹ Iceberg Catalog:<br/>  â€¢ Metadata: /metadata/<br/>  â€¢ Features: Schema evolution, Time travel<br/>  â€¢ Size: ~10MB"]
        
        CDC_PIPELINE["ğŸ”„ CDC PIPELINE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Sources â†’ CDC â†’ Redis Streams â†’ Lakehouse<br/><br/>PostgreSQL CDC:<br/>  â€¢ Method: Logical replication<br/>  â€¢ Slot: trm_cdc_slot<br/>  â€¢ Latency: <50ms<br/><br/>Neo4j CDC:<br/>  â€¢ Method: CDC Plugin<br/>  â€¢ Stream: trm_neo4j_stream<br/>  â€¢ Latency: <100ms<br/><br/>LanceDB CDC:<br/>  â€¢ Method: File watcher (Arrow IPC)<br/>  â€¢ Latency: <100ms<br/><br/>Redis Streams:<br/>  â€¢ cdc_postgres (max 10K)<br/>  â€¢ cdc_neo4j (max 10K)<br/>  â€¢ cdc_lancedb (max 5K)<br/>  â€¢ TTL: 24 hours<br/><br/>Consumer: Data Orchestrator Agent<br/>Process: Bronze â†’ Silver â†’ Gold<br/>Automation: Windmill workflows"]
        
        QUERY_ENGINE["ğŸ¦† QUERY ENGINE (DuckDB)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Location: VPS3 (embedded)<br/>Features:<br/>  â€¢ Read Parquet from R2<br/>  â€¢ SQL queries on lakehouse<br/>  â€¢ Fast aggregations<br/>  â€¢ Export CSV/JSON<br/><br/>API Endpoints:<br/>  â€¢ POST /query (SQL)<br/>  â€¢ GET /tables<br/>  â€¢ GET /schema/{table}<br/>  â€¢ GET /export/{format}<br/><br/>Auth: Logto JWT<br/>Rate limit: 100 req/min<br/>Access: Founders + Finance Agent"]
    end
    
    subgraph SERVICE_ACCOUNTS["ğŸ¤– SERVICE ACCOUNTS (Logto SSO)"]
        direction TB
        
        LOGTO_APPS["ğŸ“± APPLICATION ACCOUNTS (6)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>1. langgraph-product@service<br/>   â€¢ OAuth: Client credentials<br/>   â€¢ Access: Product DB (rw)<br/>   â€¢ Scope: app.data.*<br/><br/>2. langgraph-agent@service<br/>   â€¢ Access: Agent DB (rw)<br/>   â€¢ Scope: agent.orchestrate<br/><br/>3. lobechat@service<br/>   â€¢ Access: Product AI only<br/>   â€¢ Scope: chat.*, user.profile<br/><br/>4. postiz@service<br/>   â€¢ Access: Social APIs<br/>   â€¢ Scope: social.post<br/><br/>5. grafana@service<br/>   â€¢ Access: Prometheus, Loki (r)<br/>   â€¢ Scope: metrics.read<br/><br/>6. windmill@service<br/>   â€¢ Access: Admin all<br/>   â€¢ Scope: admin.*<br/><br/>Auth: Logto â†’ JWT tokens<br/>Token TTL: 1 hour<br/>Refresh: 7 days"]
        
        AGENT_ACCOUNTS["ğŸ¤– AI AGENT ACCOUNTS (8)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Each agent = Logto service account<br/><br/>7. devops-commander@service<br/>   âœ… Docker API, GitHub, Gitea<br/>   âœ… Alerts (ack/resolve)<br/>   âŒ DB write, Production deploy<br/><br/>8. data-orchestrator@service<br/>   âœ… All DB (r/w), R2, Lakehouse<br/>   âŒ DB DROP/ALTER, Vault<br/><br/>9. alert-commander@service<br/>   âœ… Alerta, Telegram, Email<br/>   âŒ Silence permanently<br/><br/>10. finance-tracker@service<br/>   âœ… Notion Finance, PG finance (r)<br/>   âœ… Mercury/Stripe API (r) [P2]<br/>   âŒ Delete transactions<br/><br/>11. doc-writer@service<br/>   âœ… GitHub (r code, w docs)<br/>   âœ… Notion, Gitea wiki<br/>   âŒ Delete docs<br/><br/>12. compliance-guardian@service<br/>   âœ… All logs (r), Audit trail<br/>   âŒ Modify logs<br/><br/>13. test-runner@service<br/>   âœ… VPS4 execute, GitHub tests<br/>   âŒ Production access<br/><br/>14. system-learner@service<br/>   âœ… Logs, metrics (r)<br/>   âœ… Knowledge DB (w)<br/>   âŒ System configs<br/><br/>Credentials: In Vaultwarden<br/>â†’ /agents/{agent-name}/logto-client"]
        
        DB_USERS["ğŸ’¾ DATABASE USER MATRIX<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>PostgreSQL Users:<br/>  â€¢ postgres (superuser)<br/>  â€¢ product_app (rw) â† LangGraph Product<br/>  â€¢ agent_orchestrator (rw) â† Agents<br/>  â€¢ agent_readonly (r) â† Finance, Compliance<br/>  â€¢ founder_admin (all) â† HÃ¹ng<br/>  â€¢ founder_readonly (r) â† Tuáº¥n<br/><br/>Neo4j Users:<br/>  â€¢ neo4j (admin)<br/>  â€¢ product_app (rw)<br/>  â€¢ agent_readonly (r)<br/><br/>Redis:<br/>  â€¢ default (admin)<br/>  â€¢ app (rw)<br/>  â€¢ agent (r)<br/><br/>LanceDB:<br/>  â€¢ File-based (owner: docker)<br/>  â€¢ API key auth per app<br/><br/>Credentials: Vaultwarden<br/>â†’ /vps2/pg-users/, /neo4j-users/"]
    end
    
    subgraph EMAIL_NOTIFICATION["ğŸ“§ EMAIL & NOTIFICATION SYSTEM"]
        direction TB
        
        EMAIL_SYSTEM["ğŸ“¨ EMAIL INFRASTRUCTURE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>SMTP Server:<br/>  â€¢ Provider: Google Workspace<br/>  â€¢ Host: smtp.gmail.com:587<br/>  â€¢ Auth: admin@rootknow.com<br/>  â€¢ App password: In Vaultwarden<br/>  â€¢ TLS: Required<br/><br/>Email Addresses:<br/>  ğŸ“§ admin@rootknow.com (System)<br/>     â€¢ Service registrations<br/>     â€¢ Password resets<br/>     â€¢ Critical alerts<br/><br/>  ğŸ“§ hung@rootknow.com (Daily)<br/>     â€¢ Team communications<br/>     â€¢ Social media replies<br/>     â€¢ Non-critical alerts<br/><br/>  ğŸ“§ tuan@rootknow.com (Finance)<br/>     â€¢ Financial reports<br/>     â€¢ Compliance notifications<br/>     â€¢ Invoices<br/><br/>  ğŸ“§ noreply@rootknow.com (Automated)<br/>     â€¢ User notifications<br/>     â€¢ Marketing emails [P2]<br/>     â€¢ System updates<br/><br/>Aliases & Firewall:<br/>  ğŸ“§ devops@rootknow.com â†’ hung@<br/>  ğŸ“§ finance@rootknow.com â†’ tuan@<br/>  ğŸ“§ support@rootknow.com â†’ hung@ [P2]<br/>  ğŸ“§ hello@rootknow.com â†’ hung@ [P2]"]
        
        TELEGRAM_SYSTEM["ğŸ’¬ TELEGRAM NOTIFICATION<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Bot: @rootknow_alert_bot<br/>Token: In Vaultwarden /phase1/telegram/<br/><br/>Channels:<br/>  ğŸ”´ Critical Alerts<br/>     â€¢ VPS down<br/>     â€¢ Database failure<br/>     â€¢ Backup failure<br/>     â€¢ Security breach<br/>     Recipients: HÃ¹ng + Tuáº¥n<br/><br/>  ğŸŸ¡ Warnings<br/>     â€¢ High CPU/RAM<br/>     â€¢ Disk space low<br/>     â€¢ Failed deployments<br/>     â€¢ API errors<br/>     Recipients: HÃ¹ng only<br/><br/>  ğŸŸ¢ Info/Success<br/>     â€¢ Backup completed<br/>     â€¢ Deploy success<br/>     â€¢ Daily reports<br/>     Recipients: HÃ¹ng only<br/><br/>  ğŸ’° Financial<br/>     â€¢ Transactions<br/>     â€¢ Budget alerts<br/>     â€¢ Revenue milestones<br/>     Recipients: Tuáº¥n + HÃ¹ng<br/><br/>Implementation:<br/>  â€¢ Alerta â†’ Telegram webhook<br/>  â€¢ Alert Commander Agent<br/>  â€¢ Rate limit: 20 msg/min"]
        
        NOTIFICATION_ROUTING["ğŸ”” NOTIFICATION ROUTING<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Priority Matrix:<br/><br/>P0 (Critical - Immediate):<br/>  â†’ Telegram (HÃ¹ng + Tuáº¥n)<br/>  â†’ Email (admin@)<br/>  â†’ SMS [If P0 persists >5min]<br/>  Examples: VPS down, DB fail<br/><br/>P1 (High - <15min):<br/>  â†’ Telegram (HÃ¹ng)<br/>  â†’ Email (hung@)<br/>  Examples: Service crash, API errors<br/><br/>P2 (Medium - <1hr):<br/>  â†’ Telegram (HÃ¹ng)<br/>  Examples: High resource usage<br/><br/>P3 (Low - Daily digest):<br/>  â†’ Email (hung@)<br/>  Examples: Backups, deploys<br/><br/>Financial:<br/>  â†’ Telegram Financial channel<br/>  â†’ Email (tuan@ + hung@)<br/>  â†’ Daily/Weekly reports<br/><br/>Social Media:<br/>  â†’ Email (hung@)<br/>  â†’ Comments, mentions<br/>  â†’ Daily digest<br/><br/>Routing Agent: Alert Commander<br/>On-call: HÃ¹ng 24/7 (Phase 1)"]
    end
    
    subgraph ENTITY_HIERARCHY["ğŸ¢ ENTITY & ACCOUNT HIERARCHY"]
        direction TB
        
        ROOT_ACCOUNT["ğŸ¢ ROOT ENTITY: RootKnow Inc.<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>Status: Phase 1 (Personal placeholder)<br/>Will form: Delaware C-Corp (Phase 2)<br/><br/>ROOT MASTER ACCOUNT:<br/>  ğŸ“§ admin@rootknow.com<br/>     â€¢ Google Workspace (Super Admin)<br/>     â€¢ Cloudflare (Account owner)<br/>     â€¢ Contabo (4 VPS owner)<br/>     â€¢ All service registrations<br/>     â€¢ Emergency access only<br/><br/>Credentials:<br/>  â†’ Vaultwarden /phase1/gws-admin/<br/>  â†’ Master password in physical safe<br/>  â†’ 2FA: Authy (HÃ¹ng's work phone)<br/>  â†’ Recovery codes: Paper in safe<br/><br/>Owner: HÃ¹ng (100% Phase 1)<br/>Will become: Corporate account (Phase 2)"]
        
        SUB_ACCOUNTS["ğŸ“§ SUB-ACCOUNTS STRUCTURE<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>HUMAN ACCOUNTS (Daily work):<br/>  ğŸ“§ hung@rootknow.com<br/>     â€¢ Super Admin (all systems)<br/>     â€¢ Daily operations<br/>     â€¢ Media content owner<br/>     â€¢ Device sync<br/><br/>  ğŸ“§ tuan@rootknow.com<br/>     â€¢ Admin (limited)<br/>     â€¢ Finance oversight<br/>     â€¢ Compliance monitoring<br/>     â€¢ No technical access<br/><br/>FUNCTIONAL ALIASES (Firewall):<br/>  ğŸ“§ devops@rootknow.com â†’ hung@<br/>  ğŸ“§ finance@rootknow.com â†’ tuan@<br/>  ğŸ“§ support@rootknow.com â†’ hung@ [P2]<br/>  ğŸ“§ hello@rootknow.com â†’ hung@ [P2]<br/><br/>AUTOMATED (No-reply):<br/>  ğŸ“§ noreply@rootknow.com<br/>     â€¢ System notifications<br/>     â€¢ User emails [P2]<br/>     â€¢ Marketing [P2]<br/><br/>SERVICE ACCOUNTS (Logto):<br/>  ğŸ¤– 14 service accounts<br/>     â€¢ 6 app accounts<br/>     â€¢ 8 agent accounts<br/>     â€¢ OAuth client credentials<br/>     â€¢ Scoped permissions<br/><br/>Purpose:<br/>  âœ… Separation of concerns<br/>  âœ… Email filtering<br/>  âœ… Security (firewall)<br/>  âœ… Audit trail<br/>  âœ… Easy handoff/offboard"]
    end
    
    subgraph FOUNDER_CONTROL["ğŸ¯ FOUNDER CONTROL CENTER - 2 APPS"]
        direction TB
        
        CODIA_TRACKER["ğŸ—ºï¸ CODIA TRACKER APP (Master Map)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>URL: https://codia-tracker.vercel.app<br/>Tech: React + Supabase (Real-time)<br/>Access: HÃ¹ng + AI (shared context)<br/><br/>Philosophy: CODIA + V10<br/>  â€¢ CODIA = CODE + MEDIA (2 Ä‘Ã²n báº©y)<br/>  â€¢ V10 = AI CÃ“ MÃY TÃNH RIÃŠNG<br/>  â€¢ Own platform, not rent tools<br/><br/>4 MAIN VIEWS:<br/><br/>1ï¸âƒ£ MASTER MAP (Táº¥m báº£n Ä‘á»“ chung):<br/>   â€¢ Overall: 20% (Week 2/10)<br/>   â€¢ Phase 1: Infrastructure 50% âœ…<br/>   â€¢ Phase 2: Capabilities 0% â¸ï¸<br/>   â€¢ Phase 3: Operations 0% â¸ï¸<br/>   â€¢ Progress bars live<br/>   â€¢ KPIs & deliverables<br/>   â€¢ Current focus + next steps<br/><br/>2ï¸âƒ£ CHECKLIST (Interactive TODO):<br/>   â€¢ 32 tasks vá»›i dependencies<br/>   â€¢ Check/uncheck tasks âœ…<br/>   â€¢ Update status (Pending/InProgress/Done)<br/>   â€¢ Add notes/details<br/>   â€¢ Track blockers<br/>   â€¢ Group by week<br/>   â€¢ Filter by phase<br/><br/>3ï¸âƒ£ TIMELINE (10-Week Gantt):<br/>   â€¢ Visual timeline view<br/>   â€¢ Tasks grouped by week<br/>   â€¢ Dependencies shown<br/>   â€¢ Phase indicators<br/>   â€¢ Status icons<br/>   â€¢ Auto-generate from tasks<br/><br/>4ï¸âƒ£ LOGS (Execution History):<br/>   â€¢ All actions logged<br/>   â€¢ Timestamp + details<br/>   â€¢ Status (Success/Failed)<br/>   â€¢ Real-time feed<br/>   â€¢ No manual refresh<br/><br/>Data: Supabase PostgreSQL<br/>Sync: Real-time subscriptions<br/>Update: Via app OR AI MCP<br/><br/>Purpose:<br/>  âœ… Shared context (HÃ¹ng + AI)<br/>  âœ… Track progress (what's done)<br/>  âœ… See next steps (what to do)<br/>  âœ… Dependencies clear<br/>  âœ… NO estimated time (realistic!)<br/>  âœ… Interactive (check tasks)<br/>  âœ… Real-time (always current)"]
        
        GRAFANA_DASH["ğŸ“Š GRAFANA DASHBOARDS (System Health)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>URL: https://grafana.xknow.site<br/>Access: hung@ (full), tuan@ (finance only)<br/><br/>4 DASHBOARDS:<br/><br/>1ï¸âƒ£ SYSTEM OVERVIEW:<br/>   â€¢ VPS Health: CPU, RAM, Disk, Network<br/>   â€¢ Service Status: 35 services health<br/>   â€¢ Database Metrics: PG, Neo4j, LanceDB, Redis<br/>   â€¢ AI Agent Status: 8 agents live<br/>   â€¢ Backup Status: Last + next<br/>   â€¢ Alerts: ğŸ”´ğŸŸ¡ğŸŸ¢ counts<br/>   â€¢ Auto-refresh: 30s<br/><br/>2ï¸âƒ£ FINANCE DASHBOARD:<br/>   â€¢ Costs real-time: Infra + Software + Media<br/>   â€¢ Revenue tracking [Phase 2]<br/>   â€¢ Transactions (30 days)<br/>   â€¢ Budget tracking<br/>   â€¢ Data: Finance Tracker Agent<br/>   â€¢ Update: Every 15 mins<br/><br/>3ï¸âƒ£ MEDIA DASHBOARD:<br/>   â€¢ Channel metrics: 11 channels<br/>   â€¢ YouTube, TikTok, Instagram, LinkedIn<br/>   â€¢ Content pipeline status<br/>   â€¢ Engagement rates<br/>   â€¢ Revenue [Phase 2]<br/>   â€¢ Data: Postiz + Platform APIs<br/><br/>4ï¸âƒ£ AI AGENT DASHBOARD:<br/>   â€¢ Real-time agent activity<br/>   â€¢ Current tasks per agent<br/>   â€¢ Today's completed tasks<br/>   â€¢ Error rates<br/>   â€¢ Agent metrics<br/>   â€¢ Real-time log stream<br/><br/>Purpose:<br/>  âœ… Technical health monitoring<br/>  âœ… Real-time alerts<br/>  âœ… Performance metrics<br/>  âœ… Financial tracking<br/>  âœ… Media analytics"]
    end
    
    subgraph DUAL_APP_WORKFLOW["ğŸ‘¨â€ğŸ’» FOUNDER WORKFLOW - 2 APPS COMBINED"]
        direction TB
        
        WHY_2_APPS["ğŸ¤” Táº I SAO 2 APPS?<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>CODIA Tracker = STRATEGIC (What to do)<br/>  â€¢ Master map: Where are we?<br/>  â€¢ Checklist: What's next?<br/>  â€¢ Timeline: How to get there?<br/>  â€¢ Logs: What did we do?<br/>  â€¢ Focus: EXECUTION PROGRESS<br/>  â€¢ Update: Manual check + AI MCP<br/>  â€¢ Real-time: Yes (Supabase)<br/>  â€¢ Shared: HÃ¹ng + AI same view<br/><br/>Grafana = TACTICAL (System health)<br/>  â€¢ Overview: Is system alive?<br/>  â€¢ Metrics: Performance OK?<br/>  â€¢ Alerts: Any issues?<br/>  â€¢ Agents: Are they working?<br/>  â€¢ Focus: SYSTEM HEALTH<br/>  â€¢ Update: Auto (Prometheus scrape)<br/>  â€¢ Real-time: Yes (30s refresh)<br/>  â€¢ Access: HÃ¹ng (full), Tuáº¥n (finance)<br/><br/>Analogy:<br/>  ğŸ“± CODIA Tracker = GPS (where to go)<br/>  ğŸš— Grafana = Car dashboard (engine OK?)<br/><br/>Together:<br/>  âœ… Know where going (CODIA)<br/>  âœ… Know system healthy (Grafana)<br/>  âœ… Execute with confidence<br/>  âœ… No surprises"]
        
        DASH_FINANCE["ğŸ’° FINANCE DASHBOARD<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>URL: https://grafana.xknow.site/finance<br/>Access: tuan@ (full), hung@ (view)<br/><br/>1ï¸âƒ£ COSTS (Real-time):<br/>   â€¢ Infrastructure: $65/mo<br/>   â€¢ Software: $227-247/mo<br/>   â€¢ Media production: $400-1,600/mo<br/>   â€¢ Total: $692-1,912/mo<br/>   â€¢ Trend: â†‘â†“ vs last month<br/><br/>2ï¸âƒ£ REVENUE (Phase 2):<br/>   â€¢ YouTube Ads: $X<br/>   â€¢ Sponsorships: $Y<br/>   â€¢ Product: $Z<br/>   â€¢ Total: $XYZ<br/><br/>3ï¸âƒ£ TRANSACTIONS:<br/>   â€¢ Last 30 days: Table<br/>   â€¢ By category: Chart<br/>   â€¢ Largest expenses: Top 10<br/><br/>4ï¸âƒ£ BUDGET TRACKING:<br/>   â€¢ Budget: $2,000/mo<br/>   â€¢ Spent: $X/mo<br/>   â€¢ Remaining: $Y<br/>   â€¢ Burn rate: X%<br/><br/>Data source: Finance Tracker Agent<br/>Update: Every 15 mins<br/>Export: CSV/PDF reports"]
        
        DASH_MEDIA["ğŸ“º MEDIA DASHBOARD<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>URL: https://grafana.xknow.site/media<br/>Access: hung@ (full)<br/><br/>1ï¸âƒ£ CHANNEL METRICS (11 channels):<br/>   YouTube:<br/>     â€¢ Subscribers: Count + Î”24h<br/>     â€¢ Views (24h/7d/30d)<br/>     â€¢ Watch time: Hours<br/>     â€¢ Top video: Title + views<br/>   TikTok:<br/>     â€¢ Followers: Count + Î”24h<br/>     â€¢ Views: Total<br/>     â€¢ Top video: Views<br/>   Instagram, LinkedIn, Twitter:<br/>     â€¢ Similar metrics<br/><br/>2ï¸âƒ£ CONTENT PIPELINE:<br/>   â€¢ Videos in production: Count<br/>   â€¢ Videos scheduled: Count<br/>   â€¢ Published this week: Count<br/>   â€¢ Performance: Avg views<br/><br/>3ï¸âƒ£ ENGAGEMENT:<br/>   â€¢ Likes, Comments, Shares<br/>   â€¢ Engagement rate: %<br/>   â€¢ Best time to post<br/>   â€¢ Audience demographics<br/><br/>4ï¸âƒ£ REVENUE (Phase 2):<br/>   â€¢ Ad revenue: $X<br/>   â€¢ Sponsorships: $Y<br/>   â€¢ Affiliate: $Z<br/>   â€¢ RPM: $X per 1K views<br/><br/>Data source: Postiz + Platform APIs<br/>Update: Hourly"]
        
        DASH_AGENT["ğŸ¤– AI AGENT DASHBOARD<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>URL: https://grafana.xknow.site/agents<br/>Access: hung@ (full)<br/><br/>Real-time Agent Activity:<br/>1. DevOps Commander<br/>   Status: ğŸŸ¢ Active<br/>   Current: Monitoring alerts<br/>   Today: 24 tasks, 0 errors<br/>   Last: Restarted service X (5min ago)<br/><br/>2. Data Orchestrator<br/>   Status: ğŸŸ¢ Active<br/>   Current: Processing CDC events<br/>   Today: Backup completed (4h ago)<br/>   Lakehouse: Bronzeâ†’Silver (running)<br/><br/>3. Alert Commander<br/>   Status: ğŸŸ¢ Active<br/>   Current: Monitoring 35 services<br/>   Today: 3 warnings sent<br/>   Last alert: High RAM VPS3 (2h ago)<br/><br/>4. Finance Tracker<br/>   Status: ğŸŸ¢ Active<br/>   Current: Idle<br/>   Today: Synced 5 transactions<br/>   Next: Daily report (6pm)<br/><br/>5-8. Other agents...<br/><br/>Agent Metrics:<br/>  â€¢ Total tasks: 1,234<br/>  â€¢ Success rate: 98.5%<br/>  â€¢ Avg response time: 2.3s<br/>  â€¢ Errors (24h): 3<br/><br/>Agent Logs:<br/>  â€¢ Real-time log stream<br/>  â€¢ Filter by agent<br/>  â€¢ Error highlighting"]
    end
    
    subgraph AI_COVERAGE_MAP["ğŸ—ºï¸ AI AGENT COVERAGE MAP - WHO TOUCHES WHAT"]
        direction TB
        
        COVERAGE_MATRIX["ğŸ“‹ COVERAGE MATRIX<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>System Coverage: 100% âœ…<br/><br/>VPS1 (Infrastructure) - Covered by:<br/>  ğŸ¤– DevOps Commander: âœ…âœ…âœ…<br/>     â€¢ Docker API (restart containers)<br/>     â€¢ Gitea (CI/CD monitoring)<br/>     â€¢ Alerta (alert management)<br/>     â€¢ Logs analysis (Loki)<br/>  ğŸ¤– Alert Commander: âœ…âœ…<br/>     â€¢ Alerta (ack/resolve alerts)<br/>     â€¢ Monitoring all services<br/>  ğŸ¤– Compliance Guardian: âœ…<br/>     â€¢ Audit logs (read-only)<br/>     â€¢ Access logs review<br/><br/>VPS2 (Databases) - Covered by:<br/>  ğŸ¤– Data Orchestrator: âœ…âœ…âœ…âœ…<br/>     â€¢ All DB backups<br/>     â€¢ CDC pipeline management<br/>     â€¢ Lakehouse sync (Bronze/Silver/Gold)<br/>     â€¢ Query optimization<br/>  ğŸ¤– Finance Tracker: âœ…<br/>     â€¢ PostgreSQL finance tables (read)<br/>     â€¢ Transaction sync<br/>  ğŸ¤– Compliance Guardian: âœ…<br/>     â€¢ DB access logs<br/>     â€¢ Query audit<br/><br/>VPS3 (AI Stack) - Covered by:<br/>  ğŸ¤– System Learner: âœ…âœ…âœ…<br/>     â€¢ Agent performance analysis<br/>     â€¢ Knowledge DB updates<br/>     â€¢ Pattern recognition<br/>  ğŸ¤– Doc Writer: âœ…<br/>     â€¢ Generate agent docs<br/>     â€¢ Update wiki<br/>  ğŸ¤– Alert Commander: âœ…<br/>     â€¢ Monitor AI services<br/><br/>VPS4 (Code Execution) - Covered by:<br/>  ğŸ¤– Test Runner: âœ…âœ…âœ…<br/>     â€¢ Execute tests<br/>     â€¢ Code validation<br/>     â€¢ Report results<br/>  ğŸ¤– DevOps Commander: âœ…<br/>     â€¢ Monitor sandbox health<br/>  ğŸ¤– Compliance Guardian: âœ…<br/>     â€¢ Execution logs audit<br/><br/>Vaultwarden (Credentials) - Covered by:<br/>  âŒ NO AGENT ACCESS (Security!)<br/>     â€¢ Only HÃ¹ng manual access<br/>     â€¢ Backup by Data Orchestrator (encrypted)<br/><br/>Lakehouse (R2) - Covered by:<br/>  ğŸ¤– Data Orchestrator: âœ…âœ…âœ…âœ…<br/>     â€¢ Write Bronze/Silver/Gold<br/>     â€¢ Manage lifecycle<br/>     â€¢ Run DuckDB queries<br/>  ğŸ¤– Finance Tracker: âœ…<br/>     â€¢ Query financial data<br/>  ğŸ¤– Compliance Guardian: âœ…<br/>     â€¢ Audit data access<br/><br/>Media Channels (18) - Covered by:<br/>  ğŸ¤– Doc Writer: âœ…âœ…<br/>     â€¢ Generate social media posts<br/>     â€¢ Blog article drafts<br/>  ğŸ¤– Finance Tracker: âœ…<br/>     â€¢ Track sponsorship revenue<br/>     â€¢ Ad revenue sync<br/><br/>Email/Notification - Covered by:<br/>  ğŸ¤– Alert Commander: âœ…âœ…âœ…<br/>     â€¢ Send alerts (Telegram + Email)<br/>     â€¢ Route notifications<br/>     â€¢ Priority management<br/>  ğŸ¤– Finance Tracker: âœ…<br/>     â€¢ Send financial reports<br/><br/>GitHub - Covered by:<br/>  ğŸ¤– DevOps Commander: âœ…âœ…<br/>     â€¢ Monitor CI/CD<br/>     â€¢ Create PRs for fixes<br/>  ğŸ¤– Doc Writer: âœ…âœ…<br/>     â€¢ Update documentation<br/>     â€¢ Generate READMEs<br/>  ğŸ¤– Test Runner: âœ…<br/>     â€¢ Read test files<br/>     â€¢ Write test results<br/><br/>Notion - Covered by:<br/>  ğŸ¤– Finance Tracker: âœ…âœ…<br/>     â€¢ Sync transactions<br/>     â€¢ Update financial DB<br/>  ğŸ¤– Doc Writer: âœ…<br/>     â€¢ Update documentation DB<br/>  ğŸ¤– Compliance Guardian: âœ…<br/>     â€¢ Audit trail<br/><br/>COVERAGE SCORE:<br/>  âœ… Infrastructure: 100% (3 agents)<br/>  âœ… Databases: 100% (3 agents)<br/>  âœ… AI Stack: 100% (3 agents)<br/>  âœ… Code Execution: 100% (3 agents)<br/>  âœ… Lakehouse: 100% (3 agents)<br/>  âœ… Media: 100% (2 agents)<br/>  âœ… Notifications: 100% (2 agents)<br/>  âœ… Development: 100% (3 agents)<br/><br/>GAPS: 0 âœ…<br/>Overlap: Intentional (redundancy)"]
        
        DAILY_WORKFLOW["ğŸ“… HÃ™NG'S DAILY WORKFLOW (5+5 mins)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>MORNING (5 mins):<br/><br/>Step 1: CODIA Tracker (Strategic)<br/>  Open: https://codia-tracker.vercel.app<br/>  1. Check Master Map tab:<br/>     â€¢ Where are we? (20% Week 2/10)<br/>     â€¢ What phase? (Phase 1: 50%)<br/>  2. Check Checklist tab:<br/>     â€¢ Today's tasks? (What to do)<br/>     â€¢ Any blockers? (Dependencies clear?)<br/>  3. Decision:<br/>     â€¢ This week: Task X<br/>     â€¢ Today: Sub-task Y<br/><br/>Step 2: Grafana (Tactical)<br/>  Open: https://grafana.xknow.site<br/>  1. Quick glance System Overview:<br/>     â€¢ VPS: ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ All OK?<br/>     â€¢ Services: 35/35 âœ…?<br/>     â€¢ Agents: 8/8 active?<br/>  2. Check alerts:<br/>     â€¢ ğŸ”´ Critical: 0 â† GOOD<br/>     â€¢ ğŸŸ¡ Warning: X â† Review<br/>  3. Decision:<br/>     âœ… All green â†’ Execute today's task<br/>     ğŸŸ¡ Yellow â†’ Fix first OR ask agent<br/>     ğŸ”´ Red â†’ STOP, fix immediately<br/><br/>Step 3: Telegram<br/>  â€¢ Read overnight alerts<br/>  â€¢ Any critical issues?<br/><br/>DURING DAY:<br/>  â€¢ Execute task from CODIA Tracker<br/>  â€¢ Agents handle system operations<br/>  â€¢ Telegram notifies if issues<br/>  â€¢ Grafana: Quick health checks<br/>  â€¢ CODIA Tracker: Check off subtasks<br/><br/>EVENING (5 mins):<br/><br/>Step 1: CODIA Tracker (Progress)<br/>  1. Open Checklist tab<br/>  2. Check off completed tasks âœ…<br/>  3. Add notes/learnings<br/>  4. View updated Master Map:<br/>     â€¢ Progress updated? (21%?)<br/>  5. Check Logs tab:<br/>     â€¢ What did we accomplish?<br/><br/>Step 2: Grafana (Review)<br/>  1. Agent Dashboard:<br/>     â€¢ Tasks completed: X<br/>     â€¢ Any errors: X<br/>  2. Finance Dashboard:<br/>     â€¢ Today's costs: $X<br/>  3. Media Dashboard (if applicable):<br/>     â€¢ Followers: +X<br/><br/>Step 3: Plan Tomorrow<br/>  â€¢ CODIA Tracker: Next task clear?<br/>  â€¢ Grafana: System healthy?<br/>  â€¢ Ready for tomorrow âœ…<br/><br/>WEEKLY (30 mins):<br/>  â€¢ CODIA Tracker: Review week progress<br/>  â€¢ Grafana: Deep dive metrics<br/>  â€¢ Agent performance review<br/><br/>MONTHLY (2 hours):<br/>  â€¢ CODIA Tracker: Phase review<br/>  â€¢ Grafana: Full system audit<br/>  â€¢ Financial review with Tuáº¥n"]
        
        TUAN_WORKFLOW["ğŸ’¼ TUáº¤N's WORKFLOW<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>DAILY (5 mins):<br/>  1. Grafana Finance Dashboard<br/>  2. Check transactions<br/>  3. Review budget<br/>  4. Telegram Financial channel<br/><br/>WEEKLY (1 hour):<br/>  â€¢ Export reports<br/>  â€¢ Review with HÃ¹ng<br/>  â€¢ Approve expenses<br/>  â€¢ Compliance check<br/><br/>Access:<br/>  â€¢ Grafana: Full finance, View system<br/>  â€¢ CODIA Tracker: View-only<br/>  â€¢ Telegram: Financial channel"]
        
        AUTONOMY_LEVEL["ğŸ¤– AUTONOMY BREAKDOWN<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>AI AUTO (90%):<br/>  ğŸ¤– Monitoring: 100%<br/>  ğŸ¤– Backups: 100%<br/>  ğŸ¤– Alerts: 100%<br/>  ğŸ¤– Routine ops: 100%<br/>  ğŸ¤– CDC pipeline: 100%<br/>  ğŸ¤– Lakehouse sync: 100%<br/><br/>FOUNDER MANUAL (10%):<br/>  ğŸ‘¨â€ğŸ’» HÃ¹ng (7%):<br/>     â€¢ Strategic decisions<br/>     â€¢ Code deploy approval<br/>     â€¢ Infrastructure changes<br/>     â€¢ Emergency fixes<br/>     â€¢ Content creation<br/>  ğŸ’¼ Tuáº¥n (3%):<br/>     â€¢ Financial approval<br/>     â€¢ Compliance review<br/>     â€¢ Budget decisions<br/><br/>AI UPDATES CODIA:<br/>  ğŸ¤– Via MCP tool<br/>     â€¢ Mark tasks complete<br/>     â€¢ Add logs<br/>     â€¢ Update progress<br/>     â€¢ Real-time sync<br/>  ğŸ‘¨â€ğŸ’» HÃ¹ng verifies:<br/>     â€¢ Check tracker<br/>     â€¢ Confirm progress<br/>     â€¢ Adjust if needed"]
    end
    
    subgraph AUTONOMY_WORKFLOWS["âš¡ AUTONOMY WORKFLOWS - AI Tá»° Má» Rá»˜NG"]
        direction TB
        
        DYNAMIC_PERMISSIONS["ğŸ” DYNAMIC PERMISSION SYSTEM<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>NOT Static âœ…âŒ boundaries!<br/>BUT Dynamic levels + approval!<br/><br/>PERMISSION LEVELS:<br/><br/>Level 0: AUTO-EXECUTE (safe)<br/>  âœ… Read logs, metrics<br/>  âœ… Restart crashed containers<br/>  âœ… Backup data<br/>  âœ… Send routine notifications<br/>  â†’ No approval needed<br/>  â†’ Instant execution<br/><br/>Level 1: APPROVAL REQUIRED<br/>  âš ï¸ Deploy to staging<br/>  âš ï¸ Modify configs<br/>  âš ï¸ Create DB users<br/>  âš ï¸ Access restricted credentials<br/>  â†’ Telegram approval<br/>  â†’ Founder âœ… â†’ Execute<br/><br/>Level 2: DANGEROUS (Founder + 2FA)<br/>  ğŸ”´ Production deploy<br/>  ğŸ”´ DB DROP/ALTER schema<br/>  ğŸ”´ Delete backups<br/>  ğŸ”´ VPS shutdown<br/>  â†’ Telegram + SMS<br/>  â†’ 2FA confirmation<br/><br/>AGENT WORKFLOW:<br/>  1. Agent wants action<br/>  2. System checks level<br/>  3. If L0 â†’ Execute immediately<br/>  4. If L1 â†’ Telegram: 'DevOps wants deploy staging, approve?'<br/>  5. Founder âœ… Approve<br/>  6. Agent executes<br/>  7. Log: 'Approved by founder 5:30 PM'<br/><br/>LEARNING SYSTEM:<br/>  Track approval patterns:<br/>    â€¢ Founder approved 'restart Grafana' 20x<br/>    â€¢ System: 'Make this auto-approve?'<br/>    â€¢ Founder: âœ… â†’ Add to L0<br/>  <br/>  Temp permissions:<br/>    â€¢ 'Auto-deploy for next 24h'<br/>    â€¢ After 24h â†’ Revert to L1<br/><br/>Result:<br/>  âœ… Week 1: 50 approvals<br/>  âœ… Month 1: 20 approvals<br/>  âœ… Month 3: 5 approvals<br/>  âœ… Agent learns what's safe!"]
        
        SELF_PROVISIONING["ğŸ”§ SELF-PROVISIONING SYSTEM<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>NOT Fixed users (manual)!<br/>BUT Dynamic provisioning (API)!<br/><br/>DATABASE USER REGISTRY:<br/>  Table: db_user_registry<br/>  Fields:<br/>    â€¢ username, role, permissions<br/>    â€¢ created_by, expires_at, status<br/><br/>PROVISIONING API:<br/>  POST /api/db-users/create<br/>  {<br/>    'username': 'new_agent_9',<br/>    'role': 'agent',<br/>    'permissions': {'read': ['public.*'], 'write': ['logs.*']},<br/>    'expires_at': '24h'<br/>  }<br/><br/>  Workflow:<br/>    1. Agent requests user<br/>    2. Check: Approval needed? (L1)<br/>    3. Telegram: 'Data Agent wants new DB user for 24h'<br/>    4. Founder âœ…<br/>    5. Create user in PostgreSQL<br/>    6. Grant permissions<br/>    7. Store credentials in Vaultwarden<br/>    8. Return connection string<br/>    9. After 24h â†’ Auto-revoke + delete<br/><br/>AUTO-CLEANUP:<br/>  Daily job:<br/>    â€¢ Find expired users â†’ Revoke access<br/>    â€¢ Unused for 30d â†’ Alert founder<br/>    â€¢ Anomaly: 'Why 100 temp users?'<br/><br/>SELF-SERVICE:<br/>  Agent: 'I need read-only finance table'<br/>  System: Creates temp user (24h)<br/>  Agent: Uses connection<br/>  24h later: User deleted<br/><br/>Result:<br/>  âœ… Scalable (1000 users OK)<br/>  âœ… Secure (time-limited, scoped)<br/>  âœ… Auditable (who created what)<br/>  âœ… No manual SSH!"]
        
        AGENT_FIRST_EMAIL["ğŸ“§ AGENT-FIRST EMAIL ROUTING<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>NOT Email â†’ Human inbox only!<br/>BUT Email â†’ Agent â†’ Human if needed!<br/><br/>EMAIL WEBHOOK:<br/>  Postmark/SendGrid â†’ POST /api/email-received<br/>  {<br/>    'to': 'devops@rootknow.com',<br/>    'from': 'aws@amazon.com',<br/>    'subject': 'Billing Alert',<br/>    'body': '...'<br/>  }<br/><br/>EMAIL ROUTER AGENT:<br/>  1. Receives email<br/>  2. Classify type:<br/>     â€¢ 'Billing Alert' â†’ finance<br/>     â€¢ 'CI/CD failed' â†’ devops<br/>     â€¢ 'User support' â†’ support<br/>     â€¢ 'Spam' â†’ archive<br/>  3. Route to agent:<br/>     â€¢ Finance â†’ Finance Tracker Agent<br/>     â€¢ DevOps â†’ DevOps Commander<br/>     â€¢ Support â†’ Support Agent [P2]<br/>  4. Agent handles:<br/>     â€¢ Read email body<br/>     â€¢ Extract info (bill = $500)<br/>     â€¢ Action: Add to finance tracking<br/>     â€¢ Alert: Telegram if urgent<br/>  5. Copy to founder:<br/>     â€¢ Important â†’ Also send to hung@<br/>     â€¢ Routine â†’ Just log in DB<br/><br/>HUMAN OVERRIDE:<br/>  â€¢ Founder can reply anytime<br/>  â€¢ Agent sees: 'Founder replied' â†’ Stand down<br/><br/>LEARNING:<br/>  â€¢ Track: Which emails agent handled well<br/>  â€¢ Track: Which needed human<br/>  â€¢ Improve classification<br/><br/>Result:<br/>  âœ… Agent handles 80% emails<br/>  âœ… Founder sees 20% important<br/>  âœ… Email = queryable data<br/>  âœ… No inbox overload!"]
        
        AGENT_ALERT_FIX["ğŸš¨ AGENT-FIRST ALERT RESOLUTION<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>NOT Alert â†’ Telegram â†’ Founder!<br/>BUT Alert â†’ Agent tries fix â†’ Escalate if can't!<br/><br/>MULTI-LEVEL RESPONSE:<br/><br/>Severity 0: AGENT AUTO-FIX (0-5 mins)<br/>  Alert: 'Grafana container crashed'<br/>  Agent: Alert Commander<br/>  Action:<br/>    1. Receive alert<br/>    2. Check: Known issue? (Yes)<br/>    3. Execute: docker restart grafana<br/>    4. Verify: Is it up? (Yes âœ…)<br/>    5. Update: 'Auto-resolved'<br/>    6. Notification: NONE (silent fix)<br/>    7. Log: 'Alert XYZ auto-resolved by Alert Commander'<br/><br/>Severity 1: AGENT ESCALATION (5-30 mins)<br/>  Alert: 'Grafana still crashed'<br/>  Agent tried:<br/>    â€¢ Restart â†’ Failed<br/>    â€¢ Restore backup â†’ Failed<br/>  Telegram: 'âš ï¸ Can't fix Grafana crash, tried restart + backup restore'<br/>  Founder: Reviews + fixes manually<br/><br/>Severity 2: HUMAN CRITICAL (immediate)<br/>  Alert: 'VPS2 unreachable'<br/>  Agent: 'Beyond my scope, I can't access VPS2'<br/>  Telegram: 'ğŸ”´ VPS2 down, need human intervention'<br/>  SMS: If no response in 5 mins<br/><br/>LEARNING:<br/>  Track resolution:<br/>    â€¢ Agent auto-resolved: 80%<br/>    â€¢ Agent escalated: 15%<br/>    â€¢ Human critical: 5%<br/>  <br/>  Add auto-fix patterns:<br/>    â€¢ 'Restart X if Y error'<br/>    â€¢ 'Restore backup if Z corruption'<br/><br/>DAILY REPORT:<br/>  'Handled 47 alerts today:<br/>   â€¢ 43 auto-resolved (91%)<br/>   â€¢ 4 escalated to you'<br/><br/>Result:<br/>  âœ… Founder sees 10% alerts<br/>  âœ… No alert fatigue<br/>  âœ… Agents learn over time<br/>  âœ… Sleep well at night!"]
        
        DUAL_INTERFACE["ğŸ–¥ï¸ DUAL INTERFACE (Human + Agent)<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>NOT Grafana (human only)!<br/>BUT Grafana (human) + Metrics API (agent)!<br/><br/>METRICS STORE: Prometheus<br/>  â€¢ All metrics here<br/>  â€¢ Both human + agent access<br/><br/>HUMAN INTERFACE: Grafana<br/>  URL: https://grafana.xknow.site<br/>  â€¢ Pretty dashboards<br/>  â€¢ Visual trends<br/>  â€¢ Interactive charts<br/>  â€¢ Founder browses<br/><br/>AGENT INTERFACE: Metrics API<br/>  URL: https://metrics-api.xknow.site<br/>  <br/>  GET /api/metrics/vps3/cpu<br/>  Response:<br/>  {<br/>    'current': 87.3,<br/>    'avg_1h': 65.2,<br/>    'avg_24h': 45.1,<br/>    'threshold': 80,<br/>    'status': 'high',<br/>    'trend': 'increasing'<br/>  }<br/><br/>AGENT WORKFLOW:<br/>  1. DevOps Commander queries API every 5 mins<br/>  2. Checks: CPU > 80%?<br/>  3. If Yes for 10 mins â†’ Investigate<br/>  4. Finds: Neo4j using 90% CPU<br/>  5. Logs: 'Query XYZ is slow'<br/>  6. Suggests: 'Add index to table ABC'<br/>  7. Founder approves<br/>  8. Agent creates index<br/>  9. CPU drops to 45%<br/>  10. Agent: 'Fixed! CPU now normal'<br/>  11. Dashboard shows: Before/after<br/><br/>AGENT QUERIES STORED:<br/>  Table: agent_metric_queries<br/>  â€¢ Which agent checks what metric<br/>  â€¢ What threshold triggers action<br/>  â€¢ What action to take<br/><br/>Result:<br/>  âœ… Human: Visual exploration<br/>  âœ… Agent: Programmatic action<br/>  âœ… Both see same truth<br/>  âœ… Closed-loop automation!"]
        
        SCOPED_CREDENTIALS["ğŸ”‘ SCOPED CREDENTIAL ACCESS<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>NOT Agent full vault access!<br/>NOT Agent asks founder every time!<br/>BUT Scoped access + approval + auto-rules!<br/><br/>VAULT ORGANIZATION:<br/>  /credentials/<br/>    /public/ (agent auto-read)<br/>      â€¢ Non-sensitive configs<br/>      â€¢ Public API endpoints<br/>    /restricted/ (agent request â†’ approval)<br/>      â€¢ API keys<br/>      â€¢ Service passwords<br/>      â€¢ DB credentials<br/>    /founder-only/ (never agent)<br/>      â€¢ Master passwords<br/>      â€¢ Bank accounts<br/>      â€¢ Personal creds<br/><br/>CREDENTIAL REQUEST API:<br/>  POST /api/vault/request-credential<br/>  {<br/>    'agent': 'devops-commander',<br/>    'credential': '/restricted/github-pat',<br/>    'reason': 'Deploy service to GitHub',<br/>    'duration': '1h'<br/>  }<br/><br/>  Workflow:<br/>    1. Check: Is agent allowed? (Yes - DevOps can use GitHub)<br/>    2. Check: Is public? (No - restricted)<br/>    3. Telegram: 'ğŸ” DevOps Commander requests GitHub PAT for 1h to deploy service<br/>       [âœ… Approve] [âŒ Deny]'<br/>    4. Founder: âœ… Approve<br/>    5. System: Create temp access (1h)<br/>    6. Agent: Gets credential<br/>    7. After 1h: Auto-revoke<br/>    8. Log: 'Approved by founder 5:30 PM, expired 6:30 PM'<br/><br/>AUTO-APPROVAL RULES:<br/>  Founder sets:<br/>    â€¢ 'DevOps can auto-access GitHub PAT'<br/>    â€¢ 'Data Orchestrator can auto-access DB passwords'<br/>    â€¢ 'All agents: Deny bank credentials'<br/><br/>LEARNING:<br/>  â€¢ You approved GitHub PAT 30x<br/>  â€¢ Suggest: 'Make this auto-approve?'<br/>  â€¢ Founder: âœ… â†’ Add rule<br/><br/>AUDIT TRAIL:<br/>  Every access logged:<br/>    â€¢ Who, what, when, why, duration<br/>    â€¢ Query: 'Show all GitHub PAT access last month'<br/>    â€¢ Anomaly: 'Why Finance Agent accessed Docker API?'<br/><br/>Result:<br/>  âœ… Agents autonomous (with approval)<br/>  âœ… Security (scoped, time-limited, logged)<br/>  âœ… Auto-rules reduce approvals<br/>  âœ… Full audit trail<br/>  âœ… Founder control: Revoke anytime!"]
    end
    
    %% ============================================================================
    %% CONNECTIONS & DATA FLOWS
    %% ============================================================================
    
    %% Founders â†’ Access
    HUNG --> VPS1_INFO
    HUNG --> VPS2_INFO
    HUNG --> VPS3_INFO
    HUNG --> VPS4_INFO
    HUNG --> VAULT_MASTER
    HUNG --> PHASE1_CHANNELS
    
    TUAN -.->|View only| VPS1_SERVICES
    TUAN --> PHASE1_CHANNELS
    
    %% VPS1 â†’ Services
    VPS1_INFO --> VPS1_FOLDERS
    VPS1_FOLDERS --> VPS1_SERVICES
    VPS1_SERVICES --> VAULTWARDEN_DETAIL
    
    %% VPS2 â†’ Databases
    VPS2_INFO --> VPS2_FOLDERS
    VPS2_FOLDERS --> VPS2_DB_USERS
    VPS2_DB_USERS --> VPS2_SERVICES
    
    %% VPS3 â†’ AI + Media
    VPS3_INFO --> VPS3_FOLDERS
    VPS3_FOLDERS --> VPS3_SERVICES
    VPS3_SERVICES --> PHASE1_CHANNELS
    
    %% VPS4 â†’ Isolated
    VPS4_INFO --> VPS4_FOLDERS
    VPS4_FOLDERS --> VPS4_SERVICES
    
    %% Vault â†’ Everything
    VAULT_MASTER --> VAULT_STRUCTURE
    VAULT_STRUCTURE -.->|Credentials| VPS1_SERVICES
    VAULT_STRUCTURE -.->|Credentials| VPS2_SERVICES
    VAULT_STRUCTURE -.->|Credentials| VPS3_SERVICES
    VAULT_STRUCTURE -.->|Credentials| PHASE1_CHANNELS
    
    %% Media workflow
    PHASE1_CHANNELS --> CONTENT_FLOW
    CONTENT_FLOW --> PHASE2_CHANNELS
    
    %% Storage tiers
    TIER1_HOT --> TIER2_WARM
    TIER2_WARM --> TIER3_COLD
    TIER3_COLD --> TIER4_OFFLINE
    
    %% Backup flows
    VPS2_SERVICES --> BACKUP_SCHEDULE
    VAULTWARDEN_DETAIL --> BACKUP_SCHEDULE
    BACKUP_SCHEDULE --> TIER2_WARM
    TIER1_HOT --> BACKUP_SCHEDULE
    
    BACKUP_SCHEDULE --> RESTORE_PROCESS
    
    %% Costs
    VPS1_INFO -.->|$15/mo| MONTHLY_COSTS
    VPS2_INFO -.->|$15/mo| MONTHLY_COSTS
    VPS3_INFO -.->|$8/mo| MONTHLY_COSTS
    VPS4_INFO -.->|$7/mo| MONTHLY_COSTS
    PHASE1_CHANNELS -.->|Revenue| REVENUE_PROJ
    
    %% Lakehouse flows
    VPS2_SERVICES -->|CDC events| CDC_PIPELINE
    CDC_PIPELINE -->|Write| LAKEHOUSE_LAYERS
    LAKEHOUSE_LAYERS -->|Query| QUERY_ENGINE
    QUERY_ENGINE -.->|API| HUNG
    QUERY_ENGINE -.->|API| AGENT_ACCOUNTS
    
    %% Service accounts â†’ Services
    LOGTO_APPS -.->|Auth| VPS3_SERVICES
    AGENT_ACCOUNTS -.->|Auth| VPS1_SERVICES
    AGENT_ACCOUNTS -.->|Auth| VPS2_SERVICES
    AGENT_ACCOUNTS -.->|Auth| VPS3_SERVICES
    DB_USERS -.->|DB Access| VPS2_SERVICES
    
    %% Email/Notification flows
    VPS1_SERVICES -->|Alerts| EMAIL_SYSTEM
    VPS1_SERVICES -->|Alerts| TELEGRAM_SYSTEM
    EMAIL_SYSTEM -->|Send| HUNG
    EMAIL_SYSTEM -->|Send| TUAN
    TELEGRAM_SYSTEM -->|Notify| HUNG
    TELEGRAM_SYSTEM -->|Notify| TUAN
    NOTIFICATION_ROUTING -.->|Route| EMAIL_SYSTEM
    NOTIFICATION_ROUTING -.->|Route| TELEGRAM_SYSTEM
    
    %% Entity hierarchy
    ROOT_ACCOUNT -->|Owns| SUB_ACCOUNTS
    ROOT_ACCOUNT -->|Manages| LOGTO_APPS
    ROOT_ACCOUNT -->|Manages| AGENT_ACCOUNTS
    SUB_ACCOUNTS -.->|Uses| EMAIL_SYSTEM
    
    %% Backup flows to lakehouse
    BACKUP_SCHEDULE -->|Archive| LAKEHOUSE_LAYERS
    
    %% Founder â†’ 2 Apps flows
    HUNG -->|Morning: Strategic| CODIA_TRACKER
    HUNG -->|Morning: Tactical| GRAFANA_DASH
    HUNG -->|Check tasks| DAILY_WORKFLOW
    HUNG -->|Evening: Update| CODIA_TRACKER
    TUAN -->|Daily finance| GRAFANA_DASH
    TUAN -.->|View progress| CODIA_TRACKER
    
    %% Dashboard â†’ System monitoring
    DASH_OVERVIEW -.->|Monitor| VPS1_SERVICES
    DASH_OVERVIEW -.->|Monitor| VPS2_SERVICES
    DASH_OVERVIEW -.->|Monitor| VPS3_SERVICES
    DASH_OVERVIEW -.->|Monitor| VPS4_SERVICES
    DASH_AGENT -.->|Track| AGENT_ACCOUNTS
    DASH_FINANCE -.->|Query| LAKEHOUSE_LAYERS
    DASH_MEDIA -.->|Fetch| PHASE1_CHANNELS
    
    %% AI Coverage flows
    COVERAGE_MATRIX -.->|Agents monitor| VPS1_SERVICES
    COVERAGE_MATRIX -.->|Agents manage| VPS2_SERVICES
    COVERAGE_MATRIX -.->|Agents operate| VPS3_SERVICES
    COVERAGE_MATRIX -.->|Agents test| VPS4_SERVICES
    DAILY_WORKFLOW -.->|Commands| AGENT_ACCOUNTS
    AUTONOMY_LEVEL -.->|AI Auto| AGENT_ACCOUNTS
    
    %% CODIA Tracker integration
    CODIA_TRACKER -.->|Data| VPS2_SERVICES
    AGENT_ACCOUNTS -.->|Update via MCP| CODIA_TRACKER
    WHY_2_APPS -.->|Explains| CODIA_TRACKER
    WHY_2_APPS -.->|Explains| GRAFANA_DASH
    
    %% Styling
    classDef founderStyle fill:#E1F5FE,stroke:#01579B,stroke-width:4px,color:#000
    classDef vpsStyle fill:#E8F5E9,stroke:#1B5E20,stroke-width:3px,color:#000
    classDef vaultStyle fill:#FFEBEE,stroke:#B71C1C,stroke-width:3px,color:#000
    classDef mediaStyle fill:#FCE4EC,stroke:#C2185B,stroke-width:3px,color:#000
    classDef storageStyle fill:#FFF3E0,stroke:#E65100,stroke-width:3px,color:#000
    classDef backupStyle fill:#F3E5F5,stroke:#4A148C,stroke-width:3px,color:#000
    classDef financeStyle fill:#FFF9C4,stroke:#F57F17,stroke-width:3px,color:#000
    classDef lakehouseStyle fill:#E0F2F1,stroke:#00897B,stroke-width:3px,color:#000
    classDef serviceAcctStyle fill:#FFF9C4,stroke:#F9A825,stroke-width:3px,color:#000
    classDef emailStyle fill:#E8EAF6,stroke:#3F51B5,stroke-width:3px,color:#000
    classDef entityStyle fill:#FCE4EC,stroke:#880E4F,stroke-width:4px,color:#000
    classDef dashboardStyle fill:#E1F5FE,stroke:#0277BD,stroke-width:4px,color:#000
    classDef coverageStyle fill:#F1F8E9,stroke:#558B2F,stroke-width:3px,color:#000
    classDef autonomyStyle fill:#FFF9C4,stroke:#F57F17,stroke-width:4px,color:#000
    
    class FOUNDERS,HUNG,TUAN founderStyle
    class VPS1_FULL,VPS1_INFO,VPS1_FOLDERS,VPS1_SERVICES vpsStyle
    class VPS2_FULL,VPS2_INFO,VPS2_FOLDERS,VPS2_DB_USERS,VPS2_SERVICES vpsStyle
    class VPS3_FULL,VPS3_INFO,VPS3_FOLDERS,VPS3_SERVICES vpsStyle
    class VPS4_FULL,VPS4_INFO,VPS4_FOLDERS,VPS4_SERVICES vpsStyle
    class VAULTWARDEN_DETAIL,VAULT_MASTER,VAULT_STRUCTURE vaultStyle
    class MEDIA_CHANNELS,PHASE1_CHANNELS,PHASE2_CHANNELS,CONTENT_FLOW mediaStyle
    class STORAGE_TIERS,TIER1_HOT,TIER2_WARM,TIER3_COLD,TIER4_OFFLINE storageStyle
    class BACKUP_AUTOMATION,BACKUP_SCHEDULE,RESTORE_PROCESS backupStyle
    class COSTS_REVENUE,MONTHLY_COSTS,REVENUE_PROJ financeStyle
    class LAKEHOUSE,LAKEHOUSE_LAYERS,CDC_PIPELINE,QUERY_ENGINE lakehouseStyle
    class SERVICE_ACCOUNTS,LOGTO_APPS,AGENT_ACCOUNTS,DB_USERS serviceAcctStyle
    class EMAIL_NOTIFICATION,EMAIL_SYSTEM,TELEGRAM_SYSTEM,NOTIFICATION_ROUTING emailStyle
    class ENTITY_HIERARCHY,ROOT_ACCOUNT,SUB_ACCOUNTS entityStyle
    class FOUNDER_CONTROL,CODIA_TRACKER,GRAFANA_DASH,DUAL_APP_WORKFLOW,WHY_2_APPS dashboardStyle
    class AI_COVERAGE_MAP,COVERAGE_MATRIX,DAILY_WORKFLOW,TUAN_WORKFLOW,AUTONOMY_LEVEL coverageStyle
    class DASH_FINANCE,DASH_MEDIA,DASH_AGENT dashboardStyle
    class AUTONOMY_WORKFLOWS,DYNAMIC_PERMISSIONS,SELF_PROVISIONING,AGENT_FIRST_EMAIL,AGENT_ALERT_FIX,DUAL_INTERFACE,SCOPED_CREDENTIALS autonomyStyle
